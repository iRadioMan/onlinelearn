<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тема 14</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="text">
		<h1><strong>ER-диаграммы (диаграммы сущность-связь)</strong></h1>

		<ul>
			<li>В&nbsp;основе ER-диаграмм лежит принцип &laquo;рисунок нагляднее текста&raquo;</li>
			<li>ER-диаграмма графически представляет сущности (entities) предметной области, свойства (attributes) сущностей и&nbsp;связи (relationship) между ними</li>
			<li>ER-диаграммы делятся на&nbsp;концептуальные и&nbsp;физические. В&nbsp;отличие от&nbsp;физических, в&nbsp;концептуальных ER-диаграммах не&nbsp;учитываются особенности конкретной базы данных. Впоследствии сущности концептуальных ER-диаграмм становятся таблицами, атрибуты&nbsp;&mdash; колонками, а&nbsp;связи реализуются путем миграции ключевых атрибутов родительских сущностей и&nbsp;создания внешних ключей</li>
		</ul>

		<h1><strong>Пример построения ER-диаграммы</strong></h1>

		<p>Предметная область&nbsp;&mdash; фитнес-индустрия. Цель заказчика&nbsp;&mdash; разработка платформы для удаленных тренировок. Основные шаги построения ER-диаграммы:</p>

		<ol>
			<li>Добавление сущностей</li>
			<li>Добавление связей и&nbsp;их&nbsp;настройка</li>
			<li>Добавление атрибутов</li>
		</ol>

		<p><strong>Важно</strong></p>

		<p>В&nbsp;данном занятии ER-диаграмма составляется в&nbsp;Microsoft Visio на&nbsp;основе описания заказчика. Используется тип диаграммы Crow&#39;s Food database notation (Кроу ногу)</p>

		<h1><strong>Добавление сущностей</strong></h1>

		<p><strong>1.</strong>&nbsp;Выделяем сущности в&nbsp;описании заказчика</p>

		<p><img alt="" src="img/1.jpg" /></p>

		<p><strong>Важно</strong></p>

		<p>Сущность (entity)&nbsp;&mdash; класс реальных или виртуальных однотипных объектов, информацию о&nbsp;которых необходимо хранить в&nbsp;базе данных. Пример сущности&nbsp;&mdash; &laquo;тренер&raquo;</p>

		<p><strong>2.</strong>&nbsp;Добавляем сущности на&nbsp;ER-диаграмму</p>

		<p><img alt="" src="img/2.jpg" style="zoom: 100%"/></p>

		<p><strong>Важно</strong></p>

		<p>На&nbsp;ER-диаграмме сущность изображается в&nbsp;виде прямоугольника, внутри которого содержится имя сущности в&nbsp;форме существительного в&nbsp;единственном числе</p>

		<h1><strong>Добавление связей и&nbsp;их&nbsp;настройка</strong></h1>

		<p><strong>1.</strong>&nbsp;Изображаем связи на&nbsp;ER-диаграмме</p>

		<p><img alt="" src="img/3.jpg" style="zoom: 75%"/></p>

		<p><strong>Важно</strong></p>

		<p>Связь (relationship)&nbsp;&mdash; ассоциация между сущностями. Для облегчения понимания диаграммы следует добавлять названия связей. Пример связи&nbsp;&mdash; &laquo;тренер получает заявку&raquo;</p>

		<p><strong>2.</strong>&nbsp;Указываем тип связи между сущностями</p>

		<p><img alt="" src="img/4.jpg" style="zoom: 85%"/></p>

		<p>При определении типа следует учитывать модальность связи: &laquo;может&raquo; или &laquo;должен&raquo;. Модальность &laquo;может&raquo; означает, что экземпляр одной сущности может быть связан с&nbsp;одним или несколькими экземплярами другой сущности, а&nbsp;может быть и&nbsp;не&nbsp;связан ни&nbsp;с&nbsp;одним экземпляром другой сущности. Модальность &laquo;должен&raquo; подразумевает связь не&nbsp;менее чем с&nbsp;одним экземпляром другой сущности. Примеры возможных типов связей представлены в&nbsp;таблице</p>

		<table border="1" cellpadding="0" cellspacing="0" style="width:100.0%">
			<thead>
				<tr>
					<th style="width:20.0%">
					<p><strong>Название типа</strong></p>
					</th>
					<th style="width:40.0%">
					<p><strong>Пример</strong></p>
					</th>
					<th style="width:40.0%">
					<p><strong>Комментарий</strong></p>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td style="width:20.0%">
					<p>Один-к-одному</p>
					</td>
					<td style="width:40.0%">
					<p>План тренировки должен быть составлен по одной заявке / По заявке может быть составлен один план тренировки</p>
					</td>
					<td style="width:40.0%">
					<p>Данный тип следует использовать исключительно для связывания различных сущностей (разные сущности должны иметь разные атрибуты)</p>
					</td>
				</tr>
				<tr>
					<td style="width:20.0%">
					<p>Один-ко-многим</p>
					</td>
					<td style="width:40.0%">
					<p>План тренировки может включать много индивидуальных занятий / Индивидуальное занятие должно относиться к одному плану тренировки</p>
					</td>
					<td style="width:40.0%">
					<p>Наиболее часто используемый тип связи</p>
					</td>
				</tr>
				<tr>
					<td style="width:20.0%">
					<p>Многие-ко-многим</p>
					</td>
					<td style="width:40.0%">
					<p>Тренер может пройти несколько курсов обучения / Курс обучения может быть пройден многими тренерами</p>
					</td>
					<td style="width:40.0%">
					<p>Используется исключительно в качестве временного типа. При дальнейшей разработке данная связь заменяется на две связи типа &laquo;один-ко-многим&raquo; путем добавления промежуточной сущности</p>
					</td>
				</tr>
			</tbody>
		</table>

		<h1><strong>Добавление атрибутов</strong></h1>

		<p><strong>1.</strong>&nbsp;Выделяем атрибуты в&nbsp;описании заказчика</p>

		<p><strong>Важно</strong></p>

		<p>Атрибуты предназначены для описания сущности. В&nbsp;приведенном примере они выделены красным цветом шрифта</p>


		<p><strong>2.</strong>&nbsp;Добавляем атрибуты к&nbsp;сущностям</p>

		<p><img alt="" src="img/5.jpg" style="zoom: 85%"/></p>

		<p><strong>Важно</strong></p>

		<p>Следует учитывать, что не&nbsp;все атрибуты могут быть указаны явно в&nbsp;техническом задании. Например, для определения стажа тренера удобно хранить в&nbsp;базе данных дату его трудоустройства</p>

		<p><strong>3.</strong>&nbsp;Добавляем ключ к&nbsp;сущностям</p>

		<p><img alt="" src="img/6.jpg" style="zoom: 85%"/></p>

		<p><strong>Важно</strong></p>

		<p>Ключ&nbsp;&mdash; это один или несколько атрибутов, уникально определяющих сущность. В&nbsp;данном примере в&nbsp;качестве ключа используется атрибут &laquo;код&raquo;</p>

		<h1>Итоги</h1>

		<p>Итак, вы&nbsp;познакомились с&nbsp;правилами построения ER-диаграммы.&nbsp;</p>
    </div>
</body>
</html>