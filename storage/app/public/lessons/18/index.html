<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тема 18</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="text">
		<h1><strong>Диаграмма состояний UML</strong></h1>

		<ul>
			<li>Диаграмма состояний позволяет описывать поведение системы</li>
			<li>В&nbsp;объектно-ориентированном подходе разрабатывается диаграмма состояний единственного класса, демонстрирующая поведение одного объекта в&nbsp;течение его жизни</li>
			<li>Состояние на&nbsp;диаграмме является более абстрактным понятием, чем состояние объекта (последнее есть комбинация всех данных из&nbsp;полей объекта)</li>
			<li>Диаграмма позволяет проектировать различные способы реакции на&nbsp;события</li>
		</ul>

		<h1><strong>Пример построения диаграммы состояний</strong></h1>

		<p>В&nbsp;данном занятии демонстрируется построение диаграммы состояний заявки клиента. Основные шаги построения диаграммы состояний:</p>

		<ol>
			<li>добавление состояний</li>
			<li>указание переходов</li>
			<li>добавление внутренних активностей</li>
			<li>указание подсостояний и&nbsp;суперсостояний</li>
		</ol>

		<p><strong>Важно</strong></p>

		<p>Для построения диаграммы последовательности используется шаблон &quot;Схема конечного автомата&quot;&nbsp;программы Visio</p>

		<h1><strong>Добавление состояний</strong></h1>

		<p><strong>1.</strong>&nbsp;Добавляем начальное псевдосостояние</p>

		<p><img alt="" src="img/1.jpg" /></p>

		<p><strong>Важно</strong></p>

		<p>Начальное псевдосостояние (initial pseudostate) не&nbsp;является состоянием, но&nbsp;имеет стрелку, указывающую на&nbsp;начальное состояние</p>

		<p><strong>2.</strong>&nbsp;Добавляем возможные состояния</p>

		<p><img alt="" src="img/2.jpg" /></p>

		<p><strong>Важно</strong></p>

		<p>На&nbsp;диаграмме отображаются состояния, в&nbsp;которых объект может находиться продолжительное время. Состояние может быть прервано вследствие наступления определенного события. Пример состояния заявки: &laquo;created&raquo;</p>

		<h1><strong>Указание переходов</strong></h1>

		<p><strong>1.</strong>&nbsp;Отображаем основные переходы</p>

		<p><img alt="" src="img/3.jpg" /></p>

		<p><strong>Важно</strong></p>

		<p>Переход (transition) означает перемещение из&nbsp;одного состояния в&nbsp;другое и&nbsp;изображается в&nbsp;виде линий, связывающих состояния</p>

		<p><strong>2.</strong>&nbsp;Добавляем метки</p>

		<p><img alt="" src="img/4.jpg" /></p>

		<p>Каждый переход имеет метку, состоящую из&nbsp;следующих необязательных частей:<br />
		<br />
		<strong>Триггер-идентификатор</strong>&nbsp;&mdash; единственное событие, способное вызвать изменение состояния. Пропуск этой части означает, что переход происходит немедленно<br />
		<br />
		<strong>Защита</strong>&nbsp;&mdash; логическое условие, выполнение которого обязательно для осуществления перехода. Пропуск защиты означает, что в&nbsp;ответ на&nbsp;инициирующее событие переход всегда осуществляется<br />
		<br />
		<strong>Активность</strong>&nbsp;&mdash; поведение системы во&nbsp;время перехода. Пропуск активности означает, что в&nbsp;процессе перехода ничего не&nbsp;происходит</p>

		<p>На представленной диаграмме методы &laquo;ApplyRequest()&raquo; и &laquo;DeclineRequest()&raquo; служат примерами событий, вызывающих переходы между состояниями. Примером защиты является выражение &laquo;[Reason != null]&raquo;, означающее, что для отказа заявки всегда следует указывать причину</p>

		<h1><strong>Добавление внутренних активностей</strong></h1>

		<p><img alt="" src="img/5.jpg" /></p>

		<p>Внутренние активности (internal activities) используются для описания действий объекта, совершаемых без перехода. Список основных действий включает следующие значения:</p>

		<ul>
			<li><strong>входное действие (entry)</strong>&nbsp;&mdash; действие, которое выполняется в&nbsp;момент входа в&nbsp;данное состояние</li>
			<li><strong>выходное действие (exit)</strong>&nbsp;&mdash; действие, которое выполняется в&nbsp;момент выхода из&nbsp;данного состояния</li>
			<li><strong>выполняющая деятельность (do)</strong>&nbsp;&mdash; действие, которое выполняется в&nbsp;течение всего времени нахождения объекта в&nbsp;данном состоянии. Разница между обычными и&nbsp;выполняющими деятельностями&nbsp;/ активностями состоит в&nbsp;том, что первые происходят мгновенно и&nbsp;не&nbsp;могут быть прерваны обычными событиями</li>
		</ul>

		<p>В&nbsp;данном примере с&nbsp;помощью внутренней активности &laquo;do/checkResponse&raquo; заявка может проверять, пришел&nbsp;ли ответ от&nbsp;тренера</p>

		<h1><strong>Работа с общими переходами и внутренними активностями</strong></h1>

		<p><img alt="" src="img/6.jpg" /></p>

		<p>В&nbsp;случае наличия у&nbsp;нескольких состояний общих переходов и&nbsp;внутренних активностей, само состояние можно превратить в&nbsp;подсостояние (substates), а&nbsp;их&nbsp;общее поведение перенести в&nbsp;суперсостояние (superstate). В&nbsp;данном примере заявка может быть отклонена как из&nbsp;состояния &laquo;Created&raquo;, так и&nbsp;из&nbsp;состояния &laquo;Accepted&raquo;. Эти состояния могут быть объединены в&nbsp;суперсостояние &laquo;Cancelable&raquo;</p>

		<h1>Итоги</h1>

		<p>Вы&nbsp;познакомились с&nbsp;правилами построения диаграммы состояний UML.&nbsp;</p>

    </div>
</body>
</html>